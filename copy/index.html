<!doctype html>
<html>
	<head>
		<title></title>
		<style>
			#map-canvas {
				width:100%;
				height:100%;
				position:absolute;
				top:0;
				left:0;
			}
		</style>
	</head>
	<body>
		<script type="text/javascript" src="js/jquery-1.9.1.min.js"></script>
		<script type="text/javascript" src="js/d3.min.js"></script>
		<script type="text/javascript"
			src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAiMKXLOtqJlvcwdxCIQmtw-5KcyRbVOcM&sensor=true">
		</script>
		<script type="text/javascript">
			$(document).ready(function() {
				fn.getData();
			});

			var fn = {

				getData: function() {
					d3.csv("noaa.csv")
						.row(function(d) {
							return { city: d.city, state: d.state, avg: d.average, current: d.current, percent: d.percent };
						})
						.get(function(error, rows) {
							fn.processData(rows);
						})
				},

				processData: function(data) {

					fn.createMap();
				},

				createMap: function() {
					var map = new google.maps.Map(document.getElementById("map-canvas"), {
						center: new google.maps.LatLng(-34.397, 150.644),
						zoom: 8,
					})
				}

			}
		</script>
		<div id="map-canvas"></div>
	</body>
</html>